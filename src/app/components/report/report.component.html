<app-header></app-header>
<div class="form-group" style="margin-top:150px;">
    <form class="small-box" (ngSubmit)="getDate()">
        <div class="form-group">
            <input placeholder="Select date range" type="text" name="daterange" ngxDaterangepickerMd class="form-control" autocomplete="off" [(ngModel)]="selected" [locale]="{applyLabel: 'ok', format: 'YYYY-MM-DD'}" [dateLimit]="7" />
        </div>
        <div class="form-group">
            <select name="fileType" class="form-control" required (change)="getFileType($event)">
                <option value="">Select report type</option>
                <option *ngFor="let r of reportType" value="{{r}}">{{r}}</option>
            </select>
        </div>
        <div class="form-group">
            <input *ngIf="!loader; else showLoader" type="submit" class="btn btn-primary btn-lg btn-block" value="Download" required />
            <ng-template #showLoader>
                <input type="submit" class="btn btn-primary btn-lg btn-block" value="Wait... download in progress." disabled="disabled" />
            </ng-template>
        </div>
        <div class="alert alert-danger alert-dismissible fade show" role="alert" *ngIf="errorMessage">
            {{errorMessage}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </form>
</div>